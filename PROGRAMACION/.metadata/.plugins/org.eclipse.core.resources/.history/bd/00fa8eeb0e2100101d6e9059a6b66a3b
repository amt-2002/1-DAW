package Tema6.Ej3.app;


import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import Tema6.Ej3.modelo.*;
import Tema6.Ej3.services.PersonasServive;

public class app {
	 
	public static void main(String[] args) {
		PersonasService service = new PersonasService();
		Scanner sc = new Scanner(System.in);
		
		try {
			// Por DNI
			//consultarPersona(service, scanner);
 
			System.out.println("Indica el DNI de la persona");
			String vDNI = sc.nextLine();
			Persona p = service.consultarPersona(vDNI);
			
			if (p == null) {
				System.out.println("No existe persona con los datos introducidos");
			} else {
				System.out.println(p);
			}
			// Filtro para buscar por nombre o apellidos
 
			//consultarPersonas(service, scanner);
				System.out.println("Indica nombre o apellidos a buscar:");
				String filtro = "";
				do {
					filtro = sc.nextLine();
				} while (filtro.isEmpty());
 
				List<Persona> lista = service.buscarPersona(filtro);
				if(lista.isEmpty())
						System.out.println("No hay ninguna persona con ese filtro");
				for (Persona persona : lista) {
							System.out.println(persona);
						}
				
 
		} catch (SQLException e) {
			System.out.println("Exception en main: " + e.getMessage());
		}finally {
			sc.close();
		}
 
	}
 
}
